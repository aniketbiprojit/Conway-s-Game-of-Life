var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function l(t){t.forEach(e)}function o(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(t,e){t.appendChild(e)}function s(t,e,n){t.insertBefore(e,n||null)}function c(t){t.parentNode.removeChild(t)}function a(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function u(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function h(){return f(" ")}function d(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function p(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}let g;function m(t){g=t}const b=[],v=[],y=[],$=[],x=Promise.resolve();let C=!1;function k(t){y.push(t)}let w=!1;const _=new Set;function A(){if(!w){w=!0;do{for(let t=0;t<b.length;t+=1){const e=b[t];m(e),E(e.$$)}for(m(null),b.length=0;v.length;)v.pop()();for(let t=0;t<y.length;t+=1){const e=y[t];_.has(e)||(_.add(e),e())}y.length=0}while(b.length);for(;$.length;)$.pop()();C=!1,w=!1,_.clear()}}function E(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(k)}}const I=new Set;function L(t,e){-1===t.$$.dirty[0]&&(b.push(t),C||(C=!0,x.then(A)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function S(r,i,s,a,u,f,h=[-1]){const d=g;m(r);const p=i.props||{},b=r.$$={fragment:null,ctx:null,props:f,update:t,not_equal:u,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:n(),dirty:h,skip_bound:!1};let v=!1;if(b.ctx=s?s(r,p,((t,e,...n)=>{const l=n.length?n[0]:e;return b.ctx&&u(b.ctx[t],b.ctx[t]=l)&&(!b.skip_bound&&b.bound[t]&&b.bound[t](l),v&&L(r,t)),e})):[],b.update(),v=!0,l(b.before_update),b.fragment=!!a&&a(b.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);b.fragment&&b.fragment.l(t),t.forEach(c)}else b.fragment&&b.fragment.c();i.intro&&((y=r.$$.fragment)&&y.i&&(I.delete(y),y.i($))),function(t,n,r){const{fragment:i,on_mount:s,on_destroy:c,after_update:a}=t.$$;i&&i.m(n,r),k((()=>{const n=s.map(e).filter(o);c?c.push(...n):l(n),t.$$.on_mount=[]})),a.forEach(k)}(r,i.target,i.anchor),A()}var y,$;m(d)}function j(t,e,n){const l=t.slice();return l[11]=e[n],l[13]=n,l}function M(t,e,n){const l=t.slice();return l[11]=e[n],l[15]=n,l}function N(t){let e,n,r,a,g,m,b,v=t[13]+","+t[15];return{c(){var l;e=u("div"),n=u("p"),r=f(v),a=h(),p(n,"class","svelte-1uhw97x"),p(e,"class",(null==(l="cell")?"":l)+" svelte-1uhw97x"),p(e,"id",g=(t[13]*t[0]+t[15]).toString()),p(e,"data-x",t[13]),p(e,"data-y",t[15])},m(l,c){s(l,e,c),i(e,n),i(n,r),i(e,a),m||(b=[d(n,"click",R),d(e,"click",(function(){o(t[5])&&t[5].apply(this,arguments)}))],m=!0)},p(n,l){t=n,1&l&&g!==(g=(t[13]*t[0]+t[15]).toString())&&p(e,"id",g)},d(t){t&&c(e),m=!1,l(b)}}}function O(t){let e,n=Array(t[0]),l=[];for(let e=0;e<n.length;e+=1)l[e]=N(M(t,n,e));return{c(){for(let t=0;t<l.length;t+=1)l[t].c();e=f("")},m(t,n){for(let e=0;e<l.length;e+=1)l[e].m(t,n);s(t,e,n)},p(t,o){if(33&o){let r;for(n=Array(t[0]),r=0;r<n.length;r+=1){const i=M(t,n,r);l[r]?l[r].p(i,o):(l[r]=N(i),l[r].c(),l[r].m(e.parentNode,e))}for(;r<l.length;r+=1)l[r].d(1);l.length=n.length}},d(t){a(l,t),t&&c(e)}}}function T(e){let n,r,f,g,m,b,v,y,$,x,C,k,w,_,A,E,I,L,S,M,N,T,R,B,H,q,z,D,G,P,F,J,K=Array(e[0]),Q=[];for(let t=0;t<K.length;t+=1)Q[t]=O(j(e,K,t));return{c(){n=u("main"),r=u("span"),f=h(),g=u("h1"),g.textContent="Game of Life -  A turing complete zero-player game",m=h(),b=u("button"),b.textContent="Clear",v=h(),y=u("button"),y.textContent="Run Once",$=h(),x=u("button"),x.textContent="Start",C=h(),k=u("button"),k.textContent="Stop",w=h(),_=u("button"),_.textContent="Random",A=h(),E=u("div");for(let t=0;t<Q.length;t+=1)Q[t].c();I=h(),L=u("h3"),L.textContent="Clear and click the cells to make custom objects.",S=h(),M=u("h4"),M.textContent="The cells live in a semi-\twrapped space and not infinite space so gliders will re-enter the plane.",N=h(),T=u("h1"),T.textContent="Rules",R=h(),B=u("li"),B.textContent="Any live cell with fewer than two live neighbours dies, as if by underpopulation.",H=h(),q=u("li"),q.textContent="Any live cell with two or three live neighbours lives on to the next generation.",z=h(),D=u("li"),D.textContent="Any live cell with more than three live neighbours dies, as if by overpopulation.",G=h(),P=u("li"),P.textContent="Any dead cell with exactly three live neighbours becomes a live cell, as if by reproduction.",p(r,"class","alive svelte-1uhw97x"),p(E,"class","grid svelte-1uhw97x")},m(t,l){s(t,n,l),i(n,r),i(n,f),i(n,g),i(n,m),i(n,b),i(n,v),i(n,y),i(n,$),i(n,x),i(n,C),i(n,k),i(n,w),i(n,_),i(n,A),i(n,E);for(let t=0;t<Q.length;t+=1)Q[t].m(E,null);i(n,I),i(n,L),i(n,S),i(n,M),i(n,N),i(n,T),i(n,R),i(n,B),i(n,H),i(n,q),i(n,z),i(n,D),i(n,G),i(n,P),F||(J=[d(b,"click",e[7]),d(y,"click",(function(){o(e[1])&&e[1].apply(this,arguments)})),d(x,"click",e[8]),d(k,"click",e[9]),d(_,"click",e[10])],F=!0)},p(t,[n]){if(e=t,33&n){let t;for(K=Array(e[0]),t=0;t<K.length;t+=1){const l=j(e,K,t);Q[t]?Q[t].p(l,n):(Q[t]=O(l),Q[t].c(),Q[t].m(E,null))}for(;t<Q.length;t+=1)Q[t].d(1);Q.length=K.length}},i:t,o:t,d(t){t&&c(n),a(Q,t),F=!1,l(J)}}}const R=t=>{t.preventDefault()};function B(t,e,n){let{num:l}=e,{update:o}=e,{start:r}=e,{stop:i}=e,{resetCells:s}=e,{handleCellClick:c}=e,{clear:a}=e;return t.$$set=t=>{"num"in t&&n(0,l=t.num),"update"in t&&n(1,o=t.update),"start"in t&&n(2,r=t.start),"stop"in t&&n(3,i=t.stop),"resetCells"in t&&n(4,s=t.resetCells),"handleCellClick"in t&&n(5,c=t.handleCellClick),"clear"in t&&n(6,a=t.clear)},[l,o,r,i,s,c,a,()=>a(),()=>r(),()=>i(),()=>s(!0)]}const H=10,q=new class extends class{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}{constructor(t){super(),S(this,t,B,T,r,{num:0,update:1,start:2,stop:3,resetCells:4,handleCellClick:5,clear:6})}}({target:document.body,props:{num:H,update:P,start:U,stop:V,resetCells:J,handleCellClick:function(t){V();let{x:e,y:n}=t.target.dataset;e=parseInt(e),n=parseInt(n);const l=z[e][n];l.alive?l.kill():l.raise();F()},clear:function(){V();for(let t=0;t<H;t++)for(let e=0;e<H;e++){const n=z[t][e];n.alive&&n.kill()}F()}}}),z=Array.from(Array(H),(()=>new Array(H)));class D{constructor(t){this.alive=!1,this.neighbours=0,this.block=t,z[parseInt(t.dataset.x)][parseInt(t.dataset.y)]=this,Math.random()<.2&&(t.classList.add("alive"),this.alive=!0)}kill(){this.alive=!1,this.block.classList.remove("alive")}raise(){this.alive=!0,this.block.classList.add("alive")}setInner(t){this.block.children[0].innerHTML=t}}const G=document.getElementsByClassName("cell");function P(){let t=0;for(let e=0;e<H;e++)for(let n=0;n<H;n++){const l=z[e][n],o=K(e,n);t+=o,l.neighbours=o,l.setInner(o.toString())}const e=Object.assign({},z);if(0===t)J();else for(let t=0;t<H;t++)for(let n=0;n<H;n++){const l=e[t][n];l.alive?(l.neighbours<2||l.neighbours>3)&&l.kill():3===l.neighbours&&l.raise()}}function F(){for(let t=0;t<H;t++)for(let e=0;e<H;e++){const n=z[t][e],l=K(t,e);n.neighbours=l,n.setInner(l.toString())}}function J(t=!1){V();for(let t=0;t<H;t++)for(let e=0;e<H;e++){const n=z[t][e];Math.random()<.2&&n.raise()}P(),t&&U()}function K(t,e){let n=0;for(let l=-1;l<=1;l++)for(let o=-1;o<=1;o++){const r=(e+o+H)%H;z[(t+l+H)%H][r].alive&&n++}return z[t][e].alive&&n--,n}let Q;function U(){Q&&clearInterval(Q),Q=setInterval(P,100)}function V(){Q&&clearInterval(Q)}return Array.from(G).forEach((t=>{t instanceof HTMLElement&&new D(t)})),U(),q}();
//# sourceMappingURL=bundle.js.map
